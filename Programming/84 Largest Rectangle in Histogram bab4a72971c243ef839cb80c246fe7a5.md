# 84. Largest Rectangle in Histogram

Status: done, in progress, incomplete, ğŸ‘€1
Theme: DP
Created time: November 14, 2023 10:56 AM
Last edited time: December 7, 2023 4:53 PM

- [ ]  ë‹¤ì‹œ ì§œë³´ê¸°
- ë³µìŠµ í¬ì¸íŠ¸
    
    <aside>
    â­ ë³µìŠµ í¬ì¸íŠ¸ 
    - ì™¼ìª½ ê²½ê³„ ì˜¤ë¥¸ìª½ ê²½ê³„ë¥¼ êµ¬í•´ì„œ ë†’ì´ë‘ ê³±í•œë‹¤ 
    - ê° ë°©í–¥ì˜ ê²½ê³„ë¥¼ êµ¬í•  ë•Œ dp ì¦‰ ì´ì „ì— ì €ì¥í•´ë‘” ì •ë³´ê°€ ë‹¤ì‹œ í™œìš©ëœë‹¤ 
    - ì™¼ìª½ ê²½ê³„: default -1ì—ì„œ ì‹œì‘. left[i]: í˜„ì¬ ë†’ì´ë¥¼ ì™¼ìª½ìœ¼ë¡œ ì—°ì¥í–ˆì„ ë•Œ ì–´ë””ê¹Œì§€ ì—°ì¥í•  ìˆ˜ ìˆëŠ”ì§€ 
    - ì˜¤ë¥¸ìª½ ê²½ê³„: default nì—ì„œ ì‹œì‘. right[i]: í˜„ì¬ ë†’ì´ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì—°ì¥í–ˆì„ ë•Œ ì–´ë””ê¹Œì§€ ì—°ì¥í•  ìˆ˜ ìˆëŠ”ì§€ 
    - ë‘ ê²½ê³„ì—ì„œ ì‚¬ì‹¤ ì €ì¥ë˜ëŠ” ê°’ì€ ì—°ì¥ì´ ê°€ë¡œë§‰íˆëŠ” ì²« ì§€ì ì„ â†’ ë„“ì´ êµ¬í•  ë•Œ í•œìª½ì„ ì¢í˜€ì•¼
      - ì˜¤ë¥¸ìª½ì„ í•˜ë‚˜ ë‚´ë¦¬ê±°ë‚˜ ì™¼ìª½ì„ í•˜ë‚˜ ëŠ˜ë¦¬ê±°ë‚˜
    
    </aside>
    
- Editorial
    - Brute force
        - ì„¤ëª…
            - ì–´ë–¤ ë‘ ê°œì˜ ë§‰ëŒ€ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì§ì‚¬ê°í˜•ì˜ ë†’ì´: ê·¸ ì‚¬ì´ì— ìˆëŠ” ê°€ì¥ ë‚®ì€ ë§‰ëŒ€ì˜ ë†’ì´ë¡œ ì œí•œë¨
            - every possible pair of barsì—ì„œ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  ì§ì‚¬ê°í˜•ì„ ê³ ë ¤
                - ì§ì‚¬ê°í˜•ì˜ ë†’ì´: ë‘ ë§‰ëŒ€ ì‚¬ì´ì—ì„œ ë†’ì´ê°€ ê°€ì¥ ë‚®ì€ ë§‰ëŒ€ì˜ ë†’ì´
                - ì§ì‚¬ê°í˜•ì˜ ë„ˆë¹„: ë‘ ë§‰ëŒ€ ì‚¬ì´ì˜ ê±°ë¦¬
            - ê·¸ë¦¼
                
                ![Untitled](Untitled%20135.png)
                
        - ì½”ë“œ (TLE)
            - min(heights[i:j+1]) ê¹Œì§€ ê³ ë ¤í•˜ë©´ O(n^3) ê·¹ì•…ì˜ ì‹œê°„ ë³µì¡ë„
            
            ```python
            class Solution:
                def largestRectangleArea(self, heights: List[int]) -> int:
                    N = len(heights)
                    max_area = 0
                    for i in range(N):
                        for j in range(i, N):
                            l, r = heights[i], heights[j]
                            cur_width = j-i+1
                            cur_height = min(heights[i:j+1])
                            if cur_width * cur_height > max_area:
                                max_area = cur_width * cur_height
                    return max_area
            ```
            
    - Better Brute force
        - ì„¤ëª…
            - ëª¨ë“  ìŒì— ëŒ€í•´ì„œ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ë¥¼ ì°¾ëŠ” ëŒ€ì‹  â†’ ì´ì „ pairì—ì„œì˜ minimum heightë¥¼ ì´ìš©í•´ì„œ current pairì—ì„œì˜ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ë¥¼ íƒìƒ‰ : $min \ height = \ min(min \ height, \ height[j])$
        - ì½”ë“œ (TLE)
            - ëª¨ë“  jì— ëŒ€í•´ iì—ì„œ jê¹Œì§€ ë‹¤ ë¹„êµí•˜ëŠ” ë¶€ë¶„ì´ ì—†ì–´ì¡Œê¸° ë•Œë¬¸ì— O(n^2)ë¡œ ì‹œê°„ë³µì¡ë„ í•˜ë½
            
            ```python
            class Solution:
                def largestRectangleArea(self, heights: List[int]) -> int:
                    N = len(heights)
                    max_area = 0
                    for i in range(N):
                        min_height = float('inf')
                        for j in range(i, N):
                            cur_width = j-i+1
                            min_height = min(min_height, heights[j])
                            max_area = max(cur_width * min_height, max_area)
                    return max_area
            ```
            
    - Divide and Conquer
        - ì„¤ëª…
            - ê´€ì°°: ìµœëŒ€ ë„“ì´ì˜ ì‚¬ê°í˜•ì€ ì•„ë˜ì˜ ìƒí™©ì— ëŒ€í•œ ìµœëŒ€ì´ë‹¤
                1. ë†’ì´ê°€ ìµœì†Œ ë†’ì´ì™€ ê°™ìœ¼ë©´ì„œ ê°€ë¡œë¡œ ê°€ì¥ ë„“ì€ ì‚¬ê°í˜•ì˜ ë©´ì  
                2. ê°€ì¥ ë†’ì´ê°€ ë‚®ì€ ë§‰ëŒ€ë¥¼ ê²½ê³„ë¡œ ì‚¼ì•„ ê·¸ë³´ë‹¤ ì™¼ìª½ì— í˜•ì„±ë  ìˆ˜ ìˆëŠ” ê°€ì¥ í° ì§ì‚¬ê°í˜•ì˜ ë©´ì  (subproblem)
                3. ê°€ì¥ ë†’ì´ê°€ ë‚®ì€ ë§‰ëŒ€ë¥¼ ê²½ê³„ë¡œ ì‚¼ì•„ ê·¸ë³´ë‹¤ ì˜¤ë¥¸ìª½ì— í˜•ì„±ë  ìˆ˜ ìˆëŠ” ê°€ì¥ í° ì§ì‚¬ê°í˜•ì˜ ë©´ì  (subproblem)
            - ì˜ˆì‹œ
                
                ```python
                [6, 4, 5, 2, 4, 3, 9]
                ```
                
                - ê°€ì¥ ë†’ì´ê°€ ë‚®ì€ ë§‰ëŒ€ì˜ ë†’ì´: 2
                    1. ì˜ ê²½ìš°ì˜ ì‚¬ê°í˜• ë„“ì´: 2 * 7 = 14
                    2. ì˜ ê²½ìš°ì˜ ì‚¬ê°í˜• ë„“ì´: 4* 3 = 12 
                        - ì™¼ìª½ ë¶€ë¶„ í•œì •ìœ¼ë¡œ ë³´ë©´ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ëŠ” 4
                        - ê·¸ë˜ì„œ 2.ëŠ” ì™¼ìª½ ë¶€ë¶„ìœ¼ë¡œ ë³´ë©´ 1.ì— í•´ë‹¹í•˜ê¸°ë„ í•¨
                        - ì™¼ìª½ ë¶€ë¶„ í•œì •ì—ì„œ 2.ëŠ” ì™¼ìª½ì˜ 6 *1 = 6
                        - ì™¼ìª½ ë¶€ë¶„ í•œì •ì—ì„œ 3.ì€ ì˜¤ë¥¸ìª½ì˜ 5*1 = 5
                    3. ì˜ ê²½ìš°ì˜ ì‚¬ê°í˜• ë„“ì´: 3*3 = 9 
                        - ì˜¤ë¥¸ìª½ ë¶€ë¶„ í•œì •ìœ¼ë¡œ ë³´ë©´ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ëŠ” 3
                        - ê·¸ë˜ì„œ 3.ì€ ì™¼ìª½ ë¶€ë¶„ í•œì •ìœ¼ë¡œ ë³´ë©´ 1.ì— í•´ë‹¹í•˜ê¸°ë„ í•¨
                        - ì˜¤ë¥¸ìª½ ë¶€ë¶„ í•œì •ì—ì„œ 2.ëŠ” 4*1= 4
                        - ì˜¤ë¥¸ìª½ ë¶€ë¶„ í•œì •ì—ì„œ 3.ì€ 9*1 = 9
                    
                    â‡’ ë”°ë¼ì„œ 1.2.3.ì˜ maxëŠ” 14
                    
        - ì½”ë“œ (ì‹¬ì§€ì–´ ì˜ˆì œë„ TLE)
            - heights arrayê°€ ì˜¤ë¦„ì°¨ìˆœì´ë‚˜ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆìœ¼ë©´ divide and conquerì˜ ì´ì ì„ ì–»ì§€ ëª»í•˜ê³  worst case in O(n^2)
            - ì•„ë‹ˆë©´ O(nlogn)
            - ê³µê°„ë³µì¡ë„ì˜ ê²½ìš° ìµœì•…ì˜ ìƒí™©ì—ì„œ ê¹Šì´ nì˜ ì¬ê·€í•¨ìˆ˜ stackì´ ìƒê²¨ë‚˜ì„œ O(n)
            
            ```python
            class Solution:
                def largestRectangleArea(self, heights: List[int]) -> int:
                    def divide_conquer(start, end):
                        if start > end: return 0
                        # get 1.case
                        # shortest idxë§Œ ì–»ìœ¼ë©´ ëœë‹¤ 
                        min_idx = start
                        for i in range(start, end+1):
                            if heights[i] < heights[min_idx]:
                                min_idx = i
                        widest_area = heights[min_idx] * (end-start+1)
                        # get 2.case
                        left_max = divide_conquer(start, min_idx-1)
                        # get 3.case
                        right_max = divide_conquer(min_idx+1, end)
                        return max(widest_area, left_max, right_max)
            
                    return divide_conquer(0, len(heights)-1)
            ```
            
    - ğŸª‡Better Divide and Conquer
        - ì„¤ëª…
            - Segment Treeë¥¼ ì‚¬ìš©í•´ì„œ ìµœì†Œë¥¼ ì°¾ìœ¼ë ¤ê³  í•œë‹¤.
            - Segment Tree
                - êµ¬ê°„ì—ì„œì˜ query(í•©, ìµœì†Œ, ìµœëŒ€) ë“± updateê°€ ë¹ˆë²ˆíˆ ë°œìƒí•˜ëŠ” arrayì— ëŒ€í•´ íš¨ìœ¨ì ìœ¼ë¡œ ë‹µì„ êº¼ë‚´ì¤„ ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ìë£Œ êµ¬ì¡°
                    - ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ê° ë…¸ë“œëŠ” ì›ë³¸ ë°°ì—´ì˜ íŠ¹ì • êµ¬ê°„(ë¶€ë¶„ ì§‘í•©)ì— ëŒ€í•œ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ì •ë³´ëŠ” ì£¼ë¡œ êµ¬ê°„ì— ëŒ€í•œ ì§‘ê³„ ë°ì´í„°ë¡œ, ì˜ˆë¥¼ ë“¤ì–´ í•©ê³„, ìµœì†Œê°’, ìµœëŒ€ê°’ ë“±ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    1. **ë¦¬í”„ ë…¸ë“œ**: íŠ¸ë¦¬ì˜ ë¦¬í”„ ë…¸ë“œëŠ” ì›ë³¸ ë°°ì—´ì˜ ê°œë³„ ìš”ì†Œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ê° ë¦¬í”„ ë…¸ë“œëŠ” ë°°ì—´ì˜ í•œ ìš”ì†Œì— ëŒ€ì‘ë˜ë©°, ê·¸ ìš”ì†Œì˜ ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤.
                    2. **ë‚´ë¶€ ë…¸ë“œ**: ë‚´ë¶€ ë…¸ë“œëŠ” ë‘ ê°œì˜ ìì‹ ë…¸ë“œì˜ êµ¬ê°„ì„ í•©ì¹œ ê²ƒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‚´ë¶€ ë…¸ë“œê°€ ìì‹ ë…¸ë“œë“¤ì„ í†µí•´ [i, j] ë° [j+1, k] êµ¬ê°„ì„ ë‚˜íƒ€ë‚´ë©´, ì´ ë…¸ë“œëŠ” [i, k] êµ¬ê°„ì„ ëŒ€í‘œí•©ë‹ˆë‹¤. ë‚´ë¶€ ë…¸ë“œëŠ” ì´ êµ¬ê°„ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ë©°, ì´ëŠ” ë³´í†µ ìì‹ ë…¸ë“œë“¤ì˜ ë°ì´í„°ë¥¼ í•©í•œ ê²ƒì…ë‹ˆë‹¤(ì˜ˆ: êµ¬ê°„ì˜ í•©ê³„, ìµœì†Œê°’, ìµœëŒ€ê°’).
                    3. **ë£¨íŠ¸ ë…¸ë“œ**: ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œëŠ” ì›ë³¸ ë°°ì—´ì˜ ì „ì²´ êµ¬ê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ ë…¸ë“œëŠ” ë°°ì—´ì˜ ì „ì²´ êµ¬ê°„ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
                    - ê·¸ë¦¼
                        
                        ![Untitled](Untitled%20136.png)
                        
                - ì›ë³¸ arrayë¥¼ ë‹¤ì–‘í•œ êµ¬ê°„ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê° êµ¬ê°„ì— ëŒ€í•œ ì •ë³´ë¥¼ nodeì— ì €ì¥
                - ë¡œê·¸ ì‹œê°„ ë³µì¡ë„-êµ¬ê°„ queryì™€ ì—…ë°ì´íŠ¸ ëª¨ë‘ O(log N)
                - ì´ì§„ íŠ¸ë¦¬ êµ¬ì¡°
                - python code
                    - ì°¸ê³ : complete binary tree
                        
                        ![Untitled](Untitled%20137.png)
                        
                    
                    ```python
                    class SegmentTree:
                        def __init__(self, arr):
                            self.n = len(arr)
                            self.tree = [0] * (4 * self.n)
                    				# ì „ì²´ listì— ëŒ€í•œ tree ìƒì„±í•´ë¼ 
                            self.build(arr, 0, 0, self.n - 1) 
                    
                        def build(self, arr, node, start, end):
                            if start == end: # leaf node
                                self.tree[node] = arr[start]
                            else:
                                mid = (start + end) // 2
                                self.build(arr, 2 * node + 1, start, mid)
                                self.build(arr, 2 * node + 2, mid + 1, end)
                                self.tree[node] = self.tree[2 * node + 1] + self.tree[2 * node + 2]
                    
                        def sum_query(self, node, start, end, l, r):
                            if l > end or r < start:
                                return 0
                            if l <= start and end <= r: # start, end êµ¬ê°„ì´ l,r  êµ¬ê°„ ì•ˆì— ìˆìœ¼ë©´
                                return self.tree[node]
                            mid = (start + end) // 2
                            return self.sum_query(2 * node + 1, start, mid, l, r) + \
                                   self.sum_query(2 * node + 2, mid + 1, end, l, r)
                    
                        def query(self, l, r):
                            return self.sum_query(0, 0, self.n - 1, l, r)
                    
                    # ì‚¬ìš© ì˜ˆì‹œ
                    arr = [1, 3, 5, 7, 9, 11]
                    st = SegmentTree(arr)
                    print(st.query(1, 3))  # 1ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 3ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ì˜ í•©
                    ```
                    
        - ìš”ì•½
            1. ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ ë…¸ë“œ í´ë˜ìŠ¤ ì •ì˜ 
            2. mothership í•¨ìˆ˜
                
                1) heights ê°€ ë¹ˆ ì§‘í•©ì¸ ê²½ìš°ì˜ base case ì²˜ë¦¬
                
                2) segment tree ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ì½œ (4. í•¨ìˆ˜)
                
                3) max area êµ¬í•˜ëŠ” í•¨ìˆ˜ ì½œ (3. í•¨ìˆ˜)
                
                â†’ 2)ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ ì½œ (5. í•¨ìˆ˜)
                
            3. max area êµ¬í•˜ëŠ” í•¨ìˆ˜ (`divide & conquer`)
                1. base case  (ë²”ìœ„ restriction ì–´ê¸°ëŠ” ê²½ìš°) 
                    
                    â†³ ë‚˜ì¤‘ì— combine í•˜ëŠ” ë°©ì‹ì´ returnëœ ê°’ì— ë°”ë¡œ max ë•Œë¦¬ëŠ” ê±°ë¼ì„œ ë¬´ì‹œë  ìˆ˜ ìˆëŠ” -1 return 
                    
                2. ë§‰ëŒ€ í•˜ë‚˜ì˜ ë„“ì´ êµ¬í•˜ëŠ” ê²½ìš° (íŠ¹ì • ë²”ìœ„ í•´ë‹¹, widthê°€ 1ì´ë¼ ë„“ì´ê°€ ê³§ ë†’ì´)
                3. a, bì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê²½ìš° 
                    1. segment treeì—ì„œ ì •ë³´ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ ì½œ
                    2. [ì´ ì„¸ê°€ì§€ ê²½ìš°](84%20Largest%20Rectangle%20in%20Histogram%20bab4a72971c243ef839cb80c246fe7a5.md) ì— ëŒ€í•œ subproblem solution êµ¬í•´ë‘”ë‹¤ (ì¬ê·€í•¨ìˆ˜ ì½œ, divide & conuqer)
                        
                        â†³ ì„¸ ê°€ì§€ ê²½ìš° ì¤‘ì— ìµœì†Œ ë†’ì´ ë§‰ëŒ€ë¥¼ ë†’ì´ë¡œ ì‚¼ê³ , widest ì§ì‚¬ê°í˜• ë„“ì´ êµ¬í•˜ëŠ” ê²½ìš°ê°€ ìˆê³ , ë‚˜ë¨¸ì§€ ë‘ ê²½ìš°ë„ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½, ì˜¤ë¥¸ìª½ êµ¬ê°„ì„ ì¢í˜€ì„œ ì¬ê·€ ì½œí•˜ëŠ” ê²ƒ â†’ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ê°€ ì£¼ì–´ì§„ êµ¬ê°„ì—ì„œ ì–´ë”” ìœ„ì¹˜í•´ìˆëŠ”ì§€ ì •ë³´ê°€ í•„ìˆ˜ â†’ ì´ ì •ë³´ë¥¼ segment tree nodeì— ì €ì¥í•´ë‘ì—ˆë‹¤ê°€ ê°€ì ¸ì˜¤ëŠ” ê²ƒ â†’ segment tree nodeì—ì„œ êµ¬ê°„ë‚´ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ê°€ í•„ìš” 
                        
                    3. maxê°’ ì·¨í•´ì„œ combine 
            4. segment tree ìƒì„± í•¨ìˆ˜  (`divide & conquer`)
                1. base case 1 (ë²”ìœ„ restriction ì–´ê¸°ëŠ” ê²½ìš°) 
                    
                    â†³ ë‚˜ì¤‘ì— combine í•˜ëŠ” ë°©ì‹:  return ëœ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— min. return ìì²´ëŠ” ê°’ì´ ì•„ë‹ˆë¼ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ â†’ base caseì— í•´ë‹¹í•˜ëŠ” ê²½ìš° None ë‚˜ì˜¤ê²Œë” í•´ì„œ combine í•  ë•Œ ê±¸ëŸ¬ë‚´ëŠ” ì¤„ ì•Œì•˜ëŠ”ë° ì½”ë“œë¥¼ ë”°ì ¸ë³´ë©´ ì—†ì–´ë„ ë˜ëŠ” ë¶€ë¶„ì¸ ê²ƒ ê°™ë‹¤ ;;
                    
                2. base case 2 (íŠ¹ì • ë²”ìœ„ í•´ë‹¹)
                    
                    â†³ ì—¬ê¸°ì„œ ì¬ê·€ì½œì„ í•œë²ˆ ë”í•´ì•¼ base case 1ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ”ë°, ê·¸ëŸ¬ì§€ ì•Šê¸° ë•Œë¬¸ì— a.ëŠ” ì‚¬ì‹¤ìƒ ì—†ì–´ë„ ë˜ëŠ” ë“¯ 
                    
                    ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ê°’ì„ ì§€ì •í•œ ë’¤ node return 
                    
                3. divde & conquer
                    
                    â†³ êµ¬ê°„ ë²”ìœ„ ì¢í˜€ì„œ ì¬ê·€ í•¨ìˆ˜ ì½œ. ê²½ê³„ëŠ” ëª¨ë‘ inclusiveì¸ ì  ì£¼ì˜ 
                    
                    â†³ subproblemì˜ solution (node)ë“¤ì„ í˜„ì¬ nodeì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ë°°ì¹˜í•¨ìœ¼ë¡œì¨ ë…¸ë“œ ê°„ì˜ ê´€ê³„ë¥¼ í˜•ì„±, ë‚˜ì•„ê°€ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤ 
                    
                4. combine
                    
                    â†³ c.ì—ì„œ return ë˜ëŠ” subproblemsì˜ solutionì¸ ë…¸ë“œë“¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°’ì„ ê°€ì§€ê³  Min ë•Œë¦¼ â†’ ê·¸ê²Œ ì´ë²ˆ nodeì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°’ì´ ë¨ 
                    
            5. ì£¼ì–´ì§„ êµ¬ê°„ ë‚´ì˜ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ì˜ index return í•˜ëŠ” í•¨ìˆ˜  (`divide & conquer`)
                1. base case (ë²”ìœ„ restriction ì–´ê¸°ëŠ” ê²½ìš°)
                    
                    â†³ query í•¨ìˆ˜ê°€ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ê²½ìš°ëŠ” ìš”ì²­ êµ¬ê°„ì´ í˜„ì¬ ë…¸ë“œê°€ ì»¤ë²„í•˜ëŠ” êµ¬ê°„ë³´ë‹¤ ë” ì¢ì€ ê²½ìš° â†’ ê·¸ë˜ì„œ ìª¼ê°œì„œ ìš”ì²­ êµ¬ê°„ì— ì •í™•íˆ í•´ë‹¹í•˜ëŠ” êµ¬ê°„ì—ì„œì˜ ìµœì†Œê°’ì„ êµ¬í•˜ëŠ” ê²ƒì´ ëª©í‘œ. ìª¼ê°°ì„ ë•Œ ìš”ì²­ êµ¬ê°„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” êµ¬ê°„ì€ combine ë‹¨ê³„ì—ì„œ ë¬´ì‹œë˜ì–´ì•¼ í•¨. 
                    
                    â†³ ë‚˜ì¤‘ì— combineì„ minìœ¼ë¡œ ë•Œë¦¬ê¸° ë•Œë¬¸ì— a) ë¬´ì‹œë  ìˆ˜ ìˆëŠ” ê°’(ì˜ˆë¥¼ ë“¤ì–´ float(â€™infâ€™))ë¥¼ return í•˜ë„ë¡ í•˜ê±°ë‚˜ b) combine ì „ì— ì´ ê²½ìš°ì— í•´ë‹¹í•˜ëŠ” ê°’ë§Œ í•„í„°ë§ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì • 
                    
                    â†³ editorial ì—ì„œëŠ” b)ë¥¼ ì„ íƒí•´ì„œ ìŒìˆ˜ë¥¼ return í•˜ë„ë¡ í•˜ê³ , ì¶”ê°€ if condition ì„¤ì •í•¨ 
                    
                    1. ~~ìš”ì²­ëœ êµ¬ê°„ì´ ì´ë¯¸ input nodeì— ì˜í•´ ì»¤ë²„ë˜ëŠ” êµ¬ê°„ì¸ ê²½ìš°~~ ìš”ì²­ëœ êµ¬ê°„ì´ input nodeì— ì˜í•´ ì»¤ë²„ë˜ëŠ” êµ¬ê°„ì„ ë„˜ì„ ê²½ìš° â†’ ë‹¨ìˆœíˆ ê°’ retrieval í•˜ë©´ ëœë‹¤. input nodeì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê°’ return 
                2. ì£¼ì–´ì§„ êµ¬ê°„ì´ input nodeê°€ ì»¤ë²„í•˜ëŠ” êµ¬ê°„ì•ˆì— ì†í•´ ìˆì–´ì„œ ë” ì •êµí•œ solutionì´ í•„ìš”í•  ë•Œ 
                    1. divide and conquer
                        
                        â†³ ìš”ì²­ êµ¬ê°„ì€ ìœ ì§€, node ê°„ì˜ ê´€ê³„ ì´ìš©í•´ì„œ treeì—ì„œ ë” ì¢ì€ ë¶€ë¶„ë§Œ ì»¤ë²„í•˜ëŠ” ë‹¤ë¥¸ nodeë¡œ ì´ë™ â†’ ê° subproblem solution return
                        
                    2.  ê° subproblem solution ì¤‘ì— ìš”ì²­ êµ¬ê°„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ìˆëŠ”ì§€ í™•ì¸, ë‘˜ ì¤‘ì— í•˜ë‚˜ë¼ë„ invalid í•˜ë©´ ë°”ë¡œ ë‚˜ë¨¸ì§€ í•˜ë‚˜ê°€ ë°”ë¡œ final solution 
                    3. ë‘˜ ë‹¤ valid í•˜ë©´ ì¸ë±ìŠ¤ì— ìœ„ì¹˜í•œ ì›ì†Œì˜ í¬ê¸° ë¹„êµí•´ì„œ ë” ì‘ì€ ìª½ì„ ìµœì¢… solutionìœ¼ë¡œ return (ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ë„“ì´ êµ¬í•  ë•Œ íŠ¹ì • êµ¬ê°„ì˜ ìµœì†Œ ë†’ì´ ë§‰ëŒ€ê°€ ìœ„ì¹˜í•œ ì¸ë±ìŠ¤)
        - ì½”ë“œ
            - ì‹œê°„ ë³µì¡ë„: O(n log n)
                - chat gpt ë¶€ì—° ì„¤ëª…
                    1. êµ¬**ì„± ì‹œê°„ ë³µì¡ë„**: ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ ì²˜ìŒ êµ¬ì„±í•  ë•Œì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(n)ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ nì€ ë°°ì—´ì˜ ì›ì†Œ ìˆ˜ì…ë‹ˆë‹¤. ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ëŠ” ê° ë…¸ë“œê°€ íŠ¹ì • ë²”ìœ„ë¥¼ ëŒ€í‘œí•˜ëŠ” íŠ¸ë¦¬ êµ¬ì¡°ë¡œ, ì „ì²´ ë°°ì—´ì„ ì»¤ë²„í•˜ëŠ” íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” ë° nê°œì˜ ì›ì†Œë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
                    2. **ì¿¼ë¦¬ ì‹œê°„ ë³µì¡ë„**: ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•´ íŠ¹ì • êµ¬ê°„ì— ëŒ€í•œ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•  ë•Œì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(logâ¡n)ì…ë‹ˆë‹¤. ì´ëŠ” íŠ¸ë¦¬ì˜ ë†’ì´ê°€ logâ¡nì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. êµ¬ê°„ ì¿¼ë¦¬ëŠ” íŠ¸ë¦¬ë¥¼ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ë©´ì„œ íŠ¹ì • ë²”ìœ„ë¥¼ ì°¾ëŠ” ê³¼ì •ì´ë¯€ë¡œ, íŠ¸ë¦¬ì˜ ê° ë ˆë²¨ì„ ê±°ì³ê°€ëŠ”ë° logâ¡nì˜ ì‹œê°„ì´ ì†Œìš”ë©ë‹ˆë‹¤.
            
            ```python
            class SegTreeNode:
                def __init__(self, start, end):
                    self.start = start # í•´ë‹¹ ë…¸ë“œê°€ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” êµ¬ê°„ì˜ ì‹œì‘ì 
                    self.end = end # êµ¬ê°„ ì¢…ë£Œ ì§€ì 
                    self.min = None # í•´ë‹¹ êµ¬ê°„ì—ì„œì˜ ìµœì†Œ ë†’ì´ë¥¼ ê°–ëŠ” index
                    # ë…¸ë“œ ê°„ì˜ ê´€ê³„ë¥¼ ì§€ì •í•´ì„œ treeë¥¼ í˜•ì„±í•˜ëŠ” ë¶€ë¶„
            				self.left = None # ì™¼ìª½ ìì‹ ë…¸ë“œ toggle 3ì—ì„œ ë³¸ shortest ê¸°ì¤€ ì™¼ìª½ ë¶€ë¶„ í•œì •
                    self.right = None # ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œ
            
            class Solution:
                def largestRectangleArea(self, heights):
                    if len(heights) == 0:
                        return 0
            				# tree ìƒì„±
                    root = self.buildSegmentTree(heights, 0, len(heights) - 1)
            				# max area êµ¬í•˜ëŠ” í•¨ìˆ˜ ì½œ
                    return self.calculateMax(heights, root, 0, len(heights) - 1)
            
                def calculateMax(self, heights, root, start, end):
            				# base case
                    if start > end:
                        return -1
                    if start == end: # ì´ ê²½ìš° ìê¸° í˜¼ìì˜ ë§‰ëŒ€ì´ê³ , widthê°€ 1ì´ë¼ heightê°€ ê³§ ë„“ì´ 
                        return heights[start] # leaf node. êµ¬ê°„ì´ ì•„ë‹Œ ê°œë³„ ìš”ì†Œì˜ ê°’
            				
            				# segment treeì—ì„œ ì •ë³´ ë“¤ê³  ì˜´ 
                    minIndex = self.query(root, heights, start, end)
            				# divide 
                    leftMax = self.calculateMax(heights, root, start, minIndex - 1)
                    rightMax = self.calculateMax(heights, root, minIndex + 1, end)
                    minMax = heights[minIndex] * (end - start + 1)
                    # combine 
            				return max(max(leftMax, rightMax), minMax)
            
                def buildSegmentTree(self, heights, start, end):
                    if start > end:
                        return None
                    root = SegTreeNode(start, end)# ë¹ˆ nodeë¥¼ í•˜ë‚˜ ë§Œë“¤ê³ 
                    if start == end:
                        root.min = start # leaf nodeì˜ ê²½ìš° minIndexëŠ” ìê¸° ìì‹  
                        return root
                    else:
                        middle = (start + end) // 2
            						# ì—¬ê¸°ì— root.leftë‚˜ root.rightê°€ Noneì¸ì§€ í™•ì¸ ì•ˆí•´ë„ ë˜ë‚˜? 
                        root.left = self.buildSegmentTree(heights, start, middle)
                        root.right = self.buildSegmentTree(heights, middle + 1, end)
                        root.min = (root.left.min if heights[root.left.min] < heights[root.right.min] 
                                    else root.right.min)
                        return root
            
                def query(self, root, heights, start, end):
            				# base case
                    if not root or end < root.start or start > root.end:
                        return -1
            				# ìµœì†Œê°’ì„ ê°€ì ¸ì˜¤ë„ë¡ ìš”ì²­ëœ êµ¬ê°„ì´ ì´ë¯¸ input node(root)ê°€ ì»¤ë²„í•˜ëŠ” êµ¬ê°„ì¸ ê²½ìš°
                    if start <= root.start and end >= root.end:
            						# ê·¸ëŒ€ë¡œ nodeì— ì €ì¥ëœ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸°ë§Œ í•œë‹¤ 
                        return root.min
            				
            				# í˜„ì¬ node rootê°€ ì»¤ë²„í•˜ëŠ” êµ¬ê°„ì´ ë” ë„“ì–´ì„œ ìš”ì²­ëœ êµ¬ê°„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ê¹Œì§€ ì»¤ë²„í•˜ê³  ìˆì„ ë•Œ 
            				# divide and get subproblem solutions
            				## ì´ subproblemì˜ í•´ëŠ” ê²°êµ­ì— ì–´ëŠ ì§€ì ì—ì„œì˜ base caseê±°ë‚˜ nodeì— ì €ì¥ëœ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê°’ ë‘˜ ì¤‘ í•˜ë‚˜
                    leftMin = self.query(root.left, heights, start, end)
                    rightMin = self.query(root.right, heights, start, end)
                    # base case ê°’ìœ¼ë¡œ return ëœ ê²½ìš° ì²˜ë¦¬ 
            				if leftMin == -1:
                        return rightMin
                    if rightMin == -1:
                        return leftMin
            				# subproblemì˜ indexë¥¼ ê°€ì ¸ì™€ì„œ í•´ë‹¹ ë†’ì´ ë¹„êµ(combine)
                    return leftMin if heights[leftMin] < heights[rightMin] else rightMin
            
            # ì‚¬ìš© ì˜ˆì‹œ
            sol = Solution()
            heights = [2, 1, 5, 6, 2, 3]
            print(sol.largestRectangleArea(heights))
            ```
            
    - Using stack
        - ì„¤ëª…
            - ì§„ì§œ í•µì‹¬ ìš”ì•½ ì„¤ëª…
                1. stackì— -1ë§Œ ë„£ê³  ì´ˆê¸°í™”í•œë‹¤ 
                2. ê° ì¸ë±ìŠ¤ë¥¼ ëŒë©´ì„œ max_areaë¥¼ update í•˜ê±°ë‚˜ stackì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤
                    1. stackì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš° 
                        - í˜„ì¬ê¹Œì§€ stackì˜ ìµœëŒ€ ë†’ì´(stack[-1])ë¥¼ ì´ë²ˆ ì¸ë±ìŠ¤ì˜ ë†’ì´ heights[i]ê°€ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ» = í˜„ì¬ê¹Œì§€ stackì˜ ë†’ì´ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë” ë»—ì„ ìˆ˜ ìˆë‹¤ = heights[i]ê°€ stack ì•ˆì—ì„œ ìµœëŒ€ ë†’ì´ë³´ë‹¤ í¬ë‹¤
                        - ì´ëŸ° ì‹ìœ¼ë¡œ ì§„í–‰í•˜ë‹¤ë³´ë©´ stackì— ìŒ“ì´ëŠ” index ìˆœì„œëŠ” ë†’ì´ ì˜¤ë¦„ì°¨ìˆœì´ ëœë‹¤ = ë” ë†’ì´ê°€ ë†’ì€ indexê°€ ì˜¤ë¥¸ìª½ì— ìˆëŠ” ê²½ìš° stack ë§¨ ìœ„ì— ë†“ì´ê²Œ ëœë‹¤
                            - ë‹¤ë¥¸ ë§ë¡œ í•˜ë©´, stackì— ì•„ì§ ë‚¨ì•„ ìˆëŠ” index ë“¤ì€ ì˜¤ë¥¸ìª½ì— ë” ë†’ì´ê°€ ë‚®ì€ ë§‰ëŒ€ë¥¼ ë§Œë‚˜ê¸° ì „ ìƒíƒœ
                    2. max_area update í•˜ëŠ” ê²½ìš° 
                        - í˜„ì¬ê¹Œì§€ stackì˜ ìµœëŒ€ ë†’ì´(stack[-1])ë¥¼ ì´ë²ˆ indexì˜ ë†’ì´ (heights[i])ê°€ ê°ë‹¹í•  ìˆ˜ ì—†ë‹¤ â†’ í˜„ì¬ ìµœëŒ€ ë†’ì´ë¥¼ ë†’ì´ë¡œ ì‚¼ëŠ” ì§ì‚¬ê°í˜•ì˜ ë„“ì´ë¥¼ êµ¬í•´ë²„ë¦°ë‹¤ â†’ stackì—ëŠ” ê¸°ì¡´ topë³´ë‹¤ ë†’ì´ê°€ ë‚®ì€ ìœ„ì¹˜ì˜ Indexê°€ ìƒˆë¡œìš´ topì´ ëœë‹¤ â†’ ì´ topì˜ ë†’ì´ê°€ ì´ë²ˆ ì¸ë±ìŠ¤ì˜ ë†’ì´ë³´ë‹¤ ë‚®ìœ¼ë©´ ê·¸ì œì•¼ ì´ë²ˆ ì¸ë±ìŠ¤ì˜ ë†’ì´ë¥¼ ì¶”ê°€í•œë‹¤
                        - ì§ì‚¬ê°í˜• ë„“ì´ êµ¬í•˜ê¸°
                            - ë‹¹ì—°íˆ ë†’ì´ëŠ” ë°©ê¸ˆ pop í•œ ex-topì˜ indexì˜ ë†’ì´. heights[stack.pop()]
                            - ë„ˆë¹„
                                - ì˜¤ë¥¸ìª½ ê²½ê³„: í˜„ì¬ index ë°”ë¡œ ì• (ë°©ê¸ˆ pop í•œ ì¸ë±ìŠ¤ì˜ ë†’ì´ë¡œ ì—°ì¥í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ì˜¤ë¥¸ìª½ ê²½ê³„) = i-1 (inclusive)
                                    - ì™œ ê·¸ëŸ°ì§€ ê·¸ë¦¼
                                        
                                        ![Untitled](Untitled%20138.png)
                                        
                                        - heights[4] = 2. 2ëŠ” 5ë³´ë‹¤ë„ ì‘ê³  6ë³´ë‹¤ë„ ì‘ë‹¤.
                                        - ë¨¼ì € 6ì— í•´ë‹¹í•˜ëŠ” ì¸ë±ìŠ¤ì¸ 3ì´ topì´ë¼ì„œ pop í•  ê±´ë°, 6ì€ ìê¸° ìœ„ì¹˜ì—ì„œ ì‹œì‘í•´ì„œ 2ë°”ë¡œ ì „ ê·¸ë‹ˆê¹Œ ì—­ì‹œ ìê¸° ìì‹ ì—ì„œ ëë‚œë‹¤
                                        - ê·¸ ë‹¤ìŒ topì¸ 5ë„ 2ë³´ë‹¤ ì‘ìœ¼ë‹ˆê¹Œ popí•  ê±´ë°, 5ëŠ” ìê¸° ìœ„ì¹˜ì—ì„œ ì‹œì‘í•´ì„œ 2 ë°”ë¡œ ì „ ê·¸ë‹ˆê¹Œ 6 ìë¦¬ê¹Œì§€ ì—°ì¥ ê°€ëŠ¥í•˜ë‹¤
                                - ì™¼ìª½ ê²½ê³„: í˜„ì¬ ë†’ì´ë³´ë‹¤ ì‘ìœ¼ë©´ì„œ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” ë§‰ëŒ€ì˜ index = new stack top (exclusive)
                                
                                â‡’ `(i-1) - stack[-1]`
                                
                3. ì¸ë±ìŠ¤ë¥¼ ë‹¤ ëŒê³  ë‚¬ëŠ”ë°ë„ stackì— -1 ë§ê³  ë‹¤ë¥¸ ì›ì†Œê°€ ë‚¨ì•„ ìˆì„ ë•Œ
                    - ë‚¨ì€ indexì— í•´ë‹¹í•˜ëŠ” ë†’ì´ë¥¼ ì˜¤ë¥¸ìª½ ë§¨ ëê¹Œì§€ (inclusive N-1) ì—°ì¥í•  ìˆ˜ ìˆëŠ” ì• ë“¤ë§Œ ë‚¨ì€ ìƒíƒœì„
                    - ì—¬ê¸´ ë¬´ì¡°ê±´ 2-bì™€ ê°™ì€ ë™ì‘ë§Œ ë°˜ë³µí•´ì„œ stackì— -1ë§Œ ë‚¨ê¸´ë‹¤
                        - ë‹¤ë§Œ ë„ˆë¹„ êµ¬í•  ë•Œ ì˜¤ë¥¸ìª½ ê²½ê³„ê°€ ì˜¤ë¥¸ìª½ ë§¨ ë ê·¸ëŸ¬ë‹ˆê¹Œ N-1ë¡œ ëŒ€ì²´ëœë‹¤ëŠ” ì ì´ ë‹¤ë¦„
            - ê·¸ë¦¼ ë³´ê³  ë‚´ê°€ ë‹¤ì‹œ ì“°ëŠ” ì„¤ëª…
                - stack[top-1]ì€ stack[top]ì˜ ë†’ì´ë¥¼ ì—°ì¥ì‹œí‚¬ ìˆ˜ ì—†ëŠ” ì²« ì§€ì ì´ë‹¤. stack[top-1]ì˜ IndexëŠ” exclusiveë¼ëŠ” ì˜ë¯¸
                1. -1ì„ stackì— ë„£ì–´ì„œ end ì§€ì ì„ í‘œì‹œ, max_area ì´ˆê¸°ê°’ì€ 0
                2. stack[top]ë³´ë‹¤ ì´ë²ˆ heights[i] ê°’ì´ ë” í°(í´?) ë™ì•ˆ stackì— ê³„ì† push
                    - stackì— ìŒ“ì¸ ê°’ë“¤ì€ ì˜¤ë¦„ì°¨ìˆœ
                3. stack[top]ì´ ë” í° ë™ì•ˆ pop í•˜ê³  ë„“ì´ êµ¬í•˜ê³ , max_area ì—…ëƒ 
                    - ë„“ì´ êµ¬í•˜ê¸°: pop í•œ ì›ì†Œì— í•´ë‹¹í•˜ëŠ” ë†’ì´ * (í˜„ì¬ ë„£ìœ¼ë ¤ê³  í–ˆë˜ ì›ì†Œì˜ index i - pop í•˜ê³  ë‚œ ë’¤ stackì˜ top ì›ì†Œ index - 1)
                        - pop í•œë²ˆ í•  ë•Œë§ˆë‹¤ ë†’ì´, ë„ˆë¹„ ë‹¤ ë°”ë€ë‹¤
                        - ë‚´ ìƒê°ì—ëŠ” í˜„ì¬ ë„£ìœ¼ë ¤ê³  í•˜ëŠ” index ië³´ë‹¤ ë°”ë¡œ í•œì¹¸ ì•ì¸ i-1 ìë¦¬ì—ì„œì˜ ë„“ì´ë¥¼ êµ¬í•˜ê¸° ìœ„í•¨ì´ê³ , ë§ˆì§€ë§‰ -1ì´ ì•ìœ¼ë¡œ ê°€ì•¼ ë§ì´ ë˜ëŠ” ê²ƒ ê°™ë‹¤
                            
                            â†’ ë„ˆë¹„: (i-1) - stack[top-1]
                            
                            - ê·¸ë¦¼
                                
                                ![Untitled](Untitled%20139.png)
                                
                    - ë“œë””ì–´ stack topì´ -1ì´ê±°ë‚˜ ê·¸ indexì— í•´ë‹¹í•˜ëŠ” ê°’ì´ heights[i]ë³´ë‹¤ ì‘ì•„ì§€ë©´ ê·¸ì œì„œì•¼ push
                        - stack ì•ˆì—ì„œëŠ” ì˜¤ë¦„ì°¨ìˆœì´ë‹ˆê¹Œ
                4. ë§ˆì§€ë§‰ ì›ì†Œì— ë„ë‹¬í•˜ë©´ push í•˜ìë§ˆì pop í•˜ê³  ë„“ì´ êµ¬í•˜ê¸°
                    - ì—¬ê¸°ì„œëŠ” ë‚¨ì€ ì›ì†Œë¥¼ -1 ë‚˜ì˜¬ ë•Œê¹Œì§€ ë‹¤ pop í•˜ëŠ”ë°, ë„“ì´ êµ¬í•˜ëŠ” ê³µì‹ì´ ì¡°ê¸ˆ ë°”ë€ë‹¤
                    - ë§ˆì§€ë§‰ ì›ì†Œê¹Œì§€ ì™”ì„ ë•Œ stackì— ë‚¨ì•„ ìˆëŠ” ì• ë“¤ì„ í•˜ë‚˜ì”© pop í•˜ë©´ì„œ ì‚¬ê°í˜• ë„“ì´ë¥¼ êµ¬í•˜ëŠ”ë°, ì´ ë•Œ ë„ˆë¹„ ê¸°ì¤€ì ì€ ë§ˆì§€ë§‰ index (length -1)ì´ë‹¤
                        - ë†’ì´: pop í•œ ì›ì†Œ ìœ„ì¹˜ì— í•´ë‹¹í•˜ëŠ” ë†’ì´
                        - ë„ˆë¹„: ì œì¼ ë§ˆì§€ë§‰ index - ë‹¤ìŒ stack top index
                            - ì˜ˆ) 7 ìë¦¬ì˜ ë†’ì´ 3ì€ 4 ìë¦¬ê¹Œì§€ ì—°ì¥ ê°€ëŠ¥. 3 ìë¦¬ì˜ ë†’ì´ 2ëŠ” ë” ë‚®ì•„ì„œ ê·¸ ë’¤ë¡œëŠ” ì—°ì¥ ë¶ˆê°€ â†’ 7-ë‹¤ìŒ topì— í•´ë‹¹í•˜ëŠ” index = 7-3 = 4
                            - ì˜ˆ) 3 ìë¦¬ì˜ ë†’ì´ 2ëŠ” ì˜¤ë¥¸ìª½ìœ¼ë¡œëŠ” ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ê¹Œì§€, ì™¼ìª½ìœ¼ë¡œëŠ” ë‹¤ìŒ top -1ê¹Œì§€ ì—°ì¥ ê°€ëŠ¥ â†’ 7-ë‹¤ìŒ topì— í•´ë‹¹í•˜ëŠ” index (-1) = 7+1 = 8
            - ì›ë˜ ì„¤ëª…
                - -1ì„ stackì— ë„£ì–´ì„œ end ì§€ì ì„ í‘œì‹œ
                - push
                    - ë‘ ê°œì˜ ì—°ì†í•˜ëŠ” ìˆ«ìê°€ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ë‚˜ì˜¬ ë•Œê¹Œì§€ ($heights[i-1] > heights[i]$)
                    - ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” ë§‰ëŒ€ì—ì„œ ì‹œì‘í•´ì„œ í˜„ì¬ ë§‰ëŒ€ì˜ Indexë¥¼ stackì— ê³„ì† push
                - pop
                    - popëœ ì›ì†Œ ìë¦¬ì˜ ë†’ì´ê°€ í˜„ì¬ ë§‰ëŒ€ì˜ ë†’ì´ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì„ ë•Œê¹Œì§€ ($heights[stack[j]] \leq heights[i]$) stackì—ì„œ ê³„ì† pop
                    - pop í•  ë•Œë§ˆë‹¤ ì§ì‚¬ê°í˜•ì˜ ë„“ì´ë¥¼ êµ¬í•´ë³¸ë‹¤
                        - ë†’ì´ : ë°©ê¸ˆ popëœ ì›ì†Œ($stack[top]$)
                        - ë„ˆë¹„: $stack[top-1]-1$ê³¼ í˜„ì¬ index i ì‚¬ì´ì˜ ì°¨
                        - ë„“ì´: $(i-stack[top-1]-1) \times heights[stack[top]]$
                - arrayì— ëì— ë„ë‹¬í•˜ë©´ stackì—ì„œ ëª¨ë“  ì›ì†Œë¥¼ pop
                    - pop í•  ë•Œë§ˆë‹¤ ì•„ë˜ì˜ ê³µì‹ì„ ì‚¬ìš©í•´ì„œ ë„“ì´ë¥¼ ì°¾ëŠ”ë‹¤
                        
                        $(len(heights)-stack[top-1]-1) \times heights[stack[top]]$ 
                        
            - í—·ê°ˆë¦¬ëŠ” ë§ˆì§€ë§‰ ë¶€ë¶„ ì„¤ëª…
                - chat ì„¼ì„¸
                    
                    íˆìŠ¤í† ê·¸ë¨ì˜ ìµœëŒ€ ì§ì‚¬ê°í˜• ë¬¸ì œì—ì„œ, ë°°ì—´ì˜ ëª¨ë“  ì›ì†Œë¥¼ ì²˜ë¦¬í•œ í›„ ìŠ¤íƒì— ë‚¨ì•„ ìˆëŠ” ì›ì†Œë“¤ì€ í•´ë‹¹ ì›ì†Œë“¤ì˜ ì˜¤ë¥¸ìª½ì— ë” ë‚®ì€ ë§‰ëŒ€ê°€ ì—†ëŠ” ë§‰ëŒ€ë“¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ë“¤ì€ íˆìŠ¤í† ê·¸ë¨ì˜ ì˜¤ë¥¸ìª½ ëê¹Œì§€ í™•ì¥ë  ìˆ˜ ìˆëŠ” ì§ì‚¬ê°í˜•ì˜ ë†’ì´ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
                    
                    íˆìŠ¤í† ê·¸ë¨ì˜ ê° ë§‰ëŒ€ë¥¼ ìŠ¤íƒì— ë„£ëŠ” ê³¼ì •ì€, í•´ë‹¹ ë§‰ëŒ€ê°€ í˜„ì¬ê¹Œì§€ì˜ ìµœëŒ€ ë†’ì´ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ìŠ¤íƒì—ì„œ ë§‰ëŒ€ë¥¼ ì œê±°í•˜ëŠ” ê²ƒì€ ê·¸ ë§‰ëŒ€ë³´ë‹¤ ë” ë‚®ì€ ë†’ì´ì˜ ë§‰ëŒ€ë¥¼ ë§Œë‚¬ì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” í•´ë‹¹ ë§‰ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œ ìµœëŒ€ ì§ì‚¬ê°í˜•ì˜ ì˜¤ë¥¸ìª½ ê²½ê³„ë¥¼ ì°¾ì•˜ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
                    
                    ê·¸ëŸ¬ë‚˜ ë°°ì—´ì˜ ëê¹Œì§€ ì²˜ë¦¬í•œ í›„ì—ë„ ìŠ¤íƒì— ë§‰ëŒ€ê°€ ë‚¨ì•„ ìˆë‹¤ë©´, ì´ë“¤ì€ ì˜¤ë¥¸ìª½ì— ë” ë‚®ì€ ë§‰ëŒ€ë¥¼ ë§Œë‚˜ì§€ ì•Šì•˜ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ ê²½ìš°:
                    
                    - ì´ ë§‰ëŒ€ë“¤ì€ íˆìŠ¤í† ê·¸ë¨ì˜ ì˜¤ë¥¸ìª½ ëê¹Œì§€ í™•ì¥ë  ìˆ˜ ìˆëŠ” ì§ì‚¬ê°í˜•ì„ í˜•ì„±í•©ë‹ˆë‹¤.
                    - ì´ë“¤ì˜ ë†’ì´ëŠ” ê°ê° **`heights[stack[top]]`**ì´ë©°, ë„ˆë¹„ëŠ” í•´ë‹¹ ë§‰ëŒ€ì˜ ì¸ë±ìŠ¤ë¶€í„° íˆìŠ¤í† ê·¸ë¨ì˜ ëê¹Œì§€ì˜ ê±°ë¦¬ê°€ ë©ë‹ˆë‹¤.
                    
                    ë”°ë¼ì„œ, ë§ˆì§€ë§‰ìœ¼ë¡œ ìŠ¤íƒì— ë‚¨ì€ ê° ë§‰ëŒ€ì— ëŒ€í•´ ìµœëŒ€ ì§ì‚¬ê°í˜•ì˜ ë©´ì ì„ ê³„ì‚°í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê³„ì‚°ì€ íˆìŠ¤í† ê·¸ë¨ì˜ ì „ì²´ ë²”ìœ„ì—ì„œ ê°€ëŠ¥í•œ ìµœëŒ€ ë©´ì ì„ ì •í™•íˆ ì°¾ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.
                    
        - ì½”ë“œ
            - ë‚´ê°€ ì§œë³¸ ì½”ë“œ~
                
                ```python
                class Solution:
                    def largestRectangleArea(self, heights: List[int]) -> int:
                        stack = [-1] # ascending stack! 
                        N = len(heights)
                        max_area = 0
                        for i in range(N):
                          ~~if~~ stack[-1] == -1 or heights[i] >= stack[-1]:
                            stack.append(heights[i])
                          else:
                            while heights[i] < stack[-1]:
                              cur_idx = stack.pop() # same as i-1?
                              #cur_height = height[cur_idx]
                              #boundary = stack[-1]
                              #cur_width = (i-1) - boundary
                              if i == N-1:
                                max_area = max(max_area, ((n-1)-stack[-1]) * heights[cur_idx])
                              else:
                                max_area = max(max_area, ((i-1)-stack[-1]) * heights[cur_idx])
                            stack.append(heights[i])
                        return max_area
                ```
                
            - Editorial ì½”ë“œ
                
                ```python
                class Solution:
                    def largestRectangleArea(self, heights: List[int]) -> int:
                        stack = [-1] # ascending stack! 
                        N = len(heights)
                        max_area = 0
                        for i in range(N):
                          # ë„“ì´ update
                          while stack[-1] != -1 and heights[i] < heights[stack[-1]]:
                            cur_height = heights[stack.pop()]
                            cur_width = (i - 1) - stack[-1]
                            max_area = max(max_area, cur_width * cur_height)
                          # í˜„ì¬ê¹Œì§€ì˜ stack ì•ˆì˜ ìµœëŒ€ ë†’ì´ë¡œ ì˜¤ë¥¸ìª½ì— ì—°ì¥ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— stackì— append
                          stack.append(i)
                
                        # for loop ë‹¤ ëŒê³ ë„ stackì— ì›ì†Œê°€ ë‚¨ì•„ ìˆìœ¼ë©´
                        while stack[-1] != -1:
                          cur_height = heights[stack.pop()]
                          cur_width = (N - 1) - stack[-1]
                          max_area = max(max_area, cur_width * cur_height)
                
                        return max_area
                ```
                
    
- [x]  ì „ì²´ ì½”ë“œ ì«™ í•œë²ˆ ë” ì§œë³´ê¸°
- [[**85. Maximal Rectangle**](https://leetcode.com/problems/maximal-rectangle/description/)](85%20Maximal%20Rectangle%2090bc1c0de658492db51c8ad17f9fe389.md) ë‘ ë¹„ìŠ·í•œ ë¬¸ì œì¸ ê²ƒ ê°™ì€ë°, ì´ ë¬¸ì œì—ì„œëŠ” rowê°€ í•˜ë‚˜ì´ê³ , matrix ê°’ì´ 1ì¼ë•Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ transition caseê°€ ë‚˜ë‰˜ì§€ ì•ŠëŠ”ë‹¤
    - ê·¸ë¦¬ê³  85ë²ˆì—ì„œëŠ” ì¼ë‹¨ 0ì´ í•œë²ˆ ë‚˜ì˜¤ë©´ ë” ì´ìƒ ì‚¬ê°í˜•ì´ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ì—†ì—ˆëŠ”ë°
    - ì´ ë¬¸ì œì—ì„œëŠ” ì´ì „ë³´ë‹¤ ë†’ì´ê°€ ë‚®ì•„ë„ ì‚¬ê°í˜•ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤
- ë¹„ìŠ·í•˜ê²Œ í•˜ê³  ì´ì „ heightë‘ ì°¨ì´ë¡œ ë¶„ê¸°í•˜ë„ë¡ í–ˆëŠ”ë° 64/98ê°œê¹Œì§€ ë§ìŒ ã…ã…
    - ì™¼ìª½ì€ ìê¸°ë‘ ê°™ì€ ë†’ì´ì¼ ìˆ˜ ìˆìœ¼ë©´ì„œ (ë” ì»¤ë„ ìƒê´€ ì—†ìŒ) ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” Index
    - ì˜¤ë¥¸ìª½ì€ ìê¸°ë‘ ê°™ì€ ë†’ì´ì¼ ìˆ˜ ìˆìœ¼ë©´ì„œ (ë” ì»¤ë„ ìƒê´€ì—†ìŒ) ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” index + 1
        - ì™œëƒë©´ right-left í–ˆì„ ë•Œ + 1ì„ í•´ì•¼ ë³€ì˜ ê¸¸ì´ë¥¼ ì œëŒ€ë¡œ ì–»ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸
- cur_left, cur_right ì‚¬ìš©í•˜ëŠ” ê±¸ë¡œ í•´ë„(ì‚¬ì‹¤ updateê°€ ì–´ë–»ê²Œ ì •í™•íˆ ì´ë£¨ì–´ì§€ëŠ” ì§€ ê¸°ì–µì´ ê¸´ê°€ë¯¼ê°€í•˜ì§€ë§Œ) 64ê°œê¹Œì§€ë§Œ ë§ìŒ
- ì˜¤ë¥¸ìª½ì´ ë¬¸ì œë‹¤
    - í˜„ì¬ ë‚´ ìœ„ì¹˜ì˜ ë†’ì´ë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë©´ì„œ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” ìœ„ì¹˜ë¥¼ ê¸°ë¡í•´ê°€ì•¼ í•˜ëŠ”ë°â€¦
    - ê·¸ëŸ¬ë©´ì„œ ë‚´ ìœ„ì¹˜ì—ì„œ ì—°ì†í•´ì„œ ê±°ê¸°ê¹Œì§€ ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•¨. ì¤‘ê°„ì— ë‚˜ë³´ë‹¤ ë” ë‚®ì€ ë†’ì´ë¥¼ ë§Œë‚˜ë©´ ì•ˆë¨
    - ì˜¤ë¥¸ìª½ tracking
        
        ```python
        for i in range(n-2, -1, -1): 
        	p = i+1
        	while p < n and height[p] >= height[i]:
        		p = right[p] 
        	right[i] = p 
        ```
        
        ```python
        right = [8, 8, 8, 4, 8, 6, 8 ,8] # i=4ê¹Œì§€ë§Œ update í•œ ê²ƒì„ 
        ```
        
    - ì˜ˆë¥¼ ë“¤ì–´ [4, 2, 0, 3, 2, 4, 3, 4], N=8ì—ì„œ
        - i = 6ì—ì„œ ì‹œì‘, p=7
            - height[p] = 4 â‰¥ height[i] = 3 â†’ p = right[p] = n = 8
            - p = n â†’ while loop break â†’ right[6] = 8
        - i = 5, p = 6
            - height[p] = 3 < height[i] = 4 â†’ while loop break
            - right[5] = 6
        - i = 4, p = 5
            - height[p] = 4 > height[i] = 2 â†’ p = right[5] = 6
            - height[p] = height[6] = 3 > height[i] = 2 â†’ p = right[6] = 8
            - p = n â†’ while loop break â†’ right[4] = 8
        - i = 3, p = 4
            - height[p] = 2 < height[i] = 3 â†’ while loop break
            - right[3] = 4
    - ì •ë¦¬í•˜ë©´â€¦
        - ì˜¤ë¥¸ìª½ trackingì€ ì˜¤ë¥¸ìª½â†’ì™¼ìª½ìœ¼ë¡œ
        - ê°€ì¥ ì˜¤ë¥¸ìª½ì€ ê·¸ë³´ë‹¤ ë” ì˜¤ë¥¸ìª½ì´ ì—†ìœ¼ë‹ˆ, ê·¸ë¦¬ê³  ë‚˜ì¤‘ì— right-leftë¥¼ ê³ ë ¤í•´ì„œ í˜„ì¬ ìœ„ì¹˜ +1 = n
        - n-2ë²ˆì§¸ columnë¶€í„° ì‹œì‘
        - ìê¸° ê¸°ì¤€ìœ¼ë¡œ ìê¸°ë³´ë‹¤ ë°”ë¡œ ë’¤ì— ìˆëŠ” columnê³¼ ìš°ì„  ë¹„êµ
            - ë§Œì•½ ë’¤ë³´ë‹¤ ë‚´ê°€ ë” ë†’ìœ¼ë©´, ë” ë’¤ëŠ” ë³¼ í•„ìš”ë„ ì—†ê³ , ë‚´ê°€ ê°€ì¥ ì˜¤ë¥¸ìª½ ì¹¼ëŸ¼ì´ë‹ˆê¹Œ i+1 = p
            - ë‚´ ë†’ì´ë¥¼ ì–´ë””ê¹Œì§€ ì—°ì¥í•  ìˆ˜ ìˆëŠ”ì§€ Pointer pë¥¼ ë¯¸ë£¨ê³  ë¯¸ë£¨ë‹¤ê°€ ë§ˆì§€ë§‰ n-1+1=nê¹Œì§€ ë‹¿ìœ¼ë©´ ê·¸ëƒ¥ ê·¸ê±¸ rightmost ê²½ê³„ë¡œ ë„£ì–´ì¤€ë‹¤
            - ë§Œì•½ ë’¤ì— ìˆëŠ” columnì´ ë” ë†’ìœ¼ë©´, ê·¸ ë’¤ì— ìˆëŠ” columnë¡œ ë” ë†’ì€ì§€ ë´ì•¼ í•¨
                - ìš°ì„  ìš°ë¦¬ê°€ ë¯¸ë¦¬ í™•ë³´í•œ ì •ë³´: i+1ë²ˆì§¸ columnê³¼ ì—°ì†ìœ¼ë¡œ ê°™ì€ ë†’ì´ë¥¼ ì—°ì¥í•´ë‚˜ê°”ì„ ë•Œ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” column ì •ë³´ = right[i+1]
                - pointer pë¥¼ right[i+1]ë¡œ ì´ë™, ê·¸ ìœ„ì¹˜ì— í•´ë‹¹í•˜ëŠ” ë†’ì´ height[right[i+1]] == height[p]ë¡œ ì´ë™ â†’ ë‹¤ì‹œ í˜„ì¬ ìš°ë¦¬ ë†’ì´ì™€ ë¹„êµ
                - ê·¸ë˜ë„ ìš°ë¦¬ë³´ë‹¤ ë” ë†’ìœ¼ë©´ ë˜ ê·¸ ë’¤ì— ìˆëŠ” columnê³¼ ë¹„êµí•´ì•¼ í•¨. ì´ ë•Œ ë‹¤ì‹œ ê³¼ê±°ì— ê¸°ì–µí•´ë‘” ì •ë³´-ì¦‰ right[i+1]ì˜ ë†’ì´ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì­‰ ì—°ì¥í–ˆì„ ë•Œ ë‹¿ì„ ìˆ˜ ìˆëŠ” ë, ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” column = right[height[right[i+1]]] = right[p]-ìœ¼ë¡œ ë˜ pointer ì´ë™í•´ì„œ ë¹„êµ
- ì™¼ìª½ trackingë„ ìˆ˜ì •í•´ì•¼ í•œë‹¤
    
    ì˜ˆ) [3,6,5,7,4,8,1,0] â†’ 1(height[6]) ì˜ ì…ì¥ì—ì„œ 1ì„ ì—°ì¥í•  ìˆ˜ ìˆëŠ” ì™¼ìª½ ëì€ 0ë²ˆì§¸ indexì¸ë° ë°”ë¡œ ì§ì „ë§Œ ë¹„êµí•˜ëŠ” ì½”ë“œë¡œëŠ” 0ì— ë„ë‹¬í•  ìˆ˜ ì—†ë‹¤ â†’ ì˜¤ë¥¸ìª½ trackingì²˜ëŸ¼ pointer p ë„ì…í•´ì•¼ í•¨ 
    
    - [x]  ì™¼ìª½ tracking java code pythonìœ¼ë¡œ ì˜®ê¸°ê¸°
        
        ```python
        for i in range(1, n):
        	p = i-1
        	while p >= 0 and height[p] >= height[i]:
        		p = left[p]
        	left[i] = p 
        ```
        
        - i = 0ì¸ ê²½ìš°ëŠ” ì™¼ìª½ë³´ë‹¤ ë” ì™¼ìª½ì´ ì—†ê¸° ë•Œë¬¸ì— ì´ˆê¸°ê°’ì„ 0ì—ì„œ ì‹œì‘í•˜ë©´ ë¬¸ì œ ì—†ìŒ
        - ì™¼ìª½ trackingì—ì„œ pëŠ” ë” ì™¼ìª½ìœ¼ë¡œ ì™¼ìª½ìœ¼ë¡œ ê°ˆ ê²ƒì´ê¸° ë•Œë¬¸ì— 0ë³´ë‹¤ ì‘ì•„ì§€ë©´ while loop ë©ˆì¶°ì•¼ í•¨ - 0ì¼ ë•ŒëŠ” while loop ìœ ì§€ë¨
        - height[p] â‰¥ height[i]: iì˜ ë†’ì´ë¡œ ì™¼ìª½ìœ¼ë¡œ ë” pê¹Œì§€ ì—°ì¥ ê°€ëŠ¥. ë” ì™¼ìª½ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë³´ë ¤ë©´, p = left[p]ë¡œ pì˜ ë†’ì´ë¡œ ê°€ì¥ ì™¼ìª½ê¹Œì§€ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ì— ë„ë‹¬í•œ ë’¤, ë‹¤ì‹œ ê·¸ê³³ì˜ ë†’ì´ height[p]ë¥¼ ê°€ì ¸ë‹¤ê°€ height[i]ì™€ ë¹„êµ
        - while loop break: pê°€ ì™¼ìª½ìœ¼ë¡œ ê°€ë‹¤ê°€ 0ë³´ë‹¤ ë” ì‘ì•„ì§€ê±°ë‚˜, height[i]ë¥¼ ì™¼ìª½ìœ¼ë¡œ ì—°ì¥í•  ìˆ˜ ì—†ëŠ” ê²½ìš°
    - [x]  ìœ„ì˜ ì˜ˆì‹œë¡œ í•´ë³´ê¸°
        - ì™¼ìª½
            
            
            | p | i | height[p] | height[i] | break | left[p] | left[i] |
            | --- | --- | --- | --- | --- | --- | --- |
            | 0 | 1 | 3 | 6 | Yes |  | 0 |
            | 1 | 2 | 6 | 5 | No | 0 |  |
            | 0 | 2 | 3 | 5 | Yes |  | 0 |
            | 2 | 3 | 5 | 7 | Yes |  | 2 |
            | 3 | 4 | 7 | 4 | No | 2 |  |
            | 2 | 4 | 5 | 4 | No | 0 |  |
            | 0 | 4 | 3 | 4 | Yes |  | 0 |
            | 4 | 5 | 4 | 8 | Yes |  | 4 |
            | 5 | 6 | 8 | 1 | No | 4 |  |
            | 4 | 6 | 4 | 1 | No | 0 |  |
            | 0 | 6 | 3 | 1 | No | -1 |  |
            | -1 | 6 |  |  | Yes |  | -1 |
            | 6 | 7 | 1 | 0 | No | -1 |  |
            | -1 | 7 |  |  | Yes |  | -1 |
        - ì˜¤ë¥¸ìª½
            
            ```python
            for i in range(n-2, -1, -1): 
            	p = i+1
            	while p < n and height[p] >= height[i]:
            		p = right[p] 
            	right[i] = p 
            ```
            
            | p | i | height[p] | height[i] | break | right[p] | right[i] |
            | --- | --- | --- | --- | --- | --- | --- |
            | 7 | 6 | 0 | 1 | Yes |  | 7 |
            | 6 | 5 | 1 | 8 | Yes |  | 6 |
            | 5 | 4 | 8 | 4 | No | 6 |  |
            | 6 | 4 | 1 | 4 | Yes |  | 6 |
            | 4 | 3 | 4 | 7 | Yes |  | 4 |
            | 3 | 2 | 7 | 5 | No | 4 |  |
            | 4 | 2 | 4 | 5 | Yes |  | 4 |
            | 2 | 1 | 5 | 6 | Yes |  | 2 |
            | 1 | 0 | 6 | 3 | No | 2 |  |
            | 2 | 0 | 5 | 3 | No | 6 |  |
            | 6 | 0 | 1 | 3 | Yes |  | 6 |
    - [x]  ì˜ì—­ êµ¬í•  ë•Œ left[i]-1 í•„ìš”í•œì§€ í™•ì¸í•˜ê¸°
        - ì˜ëª» ì¼ë‹¤ ì£¼ì–´ì§„ ì‹ì€ right-left-1ì¸ë° ì´ë ‡ê²Œ í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ìš°ë¦¬ì˜ leftê°€ ì§ê´€ì ìœ¼ë¡œ ê³„ì‚°í–ˆì„ ë•Œ ëŒ€ë¹„ 1ì¹¸ì”© ë” ì‘ë‹¤. ë²”ìœ„ê°€ í•˜ë‚˜ ëŠ˜ì–´ë‚œ ì…ˆì´ê¸° ë•Œë¬¸ì— leftì˜ í•˜ë°©ì„ í•˜ë‚˜ ì˜¬ë ¤ì¤˜ì•¼ í•œë‹¤
        - right-(left+1)ì˜ ì˜ë¯¸ì—ì„œ right-left-1ì´ í•„ìš”í•˜ë‹¤
        
- ê·¼ë° while loop ìˆœíšŒí•˜ë©´ ê³µê°„ì€ ì ê²Œ ì“°ê³  ì‹œê°„ì€ ë§ì´ ì“´ë‹¤
    - [ ]  dietpepsiì˜ ì‹œê°„ ì ê²Œ ì“°ëŠ” solution í™•ì¸(stack)
- [[Recursion II](https://leetcode.com/explore/learn/card/recursion-ii/) ](Recursion%20II%20295b3c8068a5427a847db92fc8561127.md) conclusionì—ì„œ ë‹¤ì‹œ ë³µìŠµ
    - ì¬ê·€ë¥¼ ì“°ë¼ëŠ” ê²ƒ
        - ê·¼ë° historgramì´ë¼ for loopì´ë‘ ë³„ë¡œ ì°¨ì´ê°€ ì—†ëŠ” ë“¯?
    - divide & conquer ê°™ì€ë° ì™œëƒë©´ ë‹µì´ í•˜ë‚˜ë¡œ ì •í•´ì ¸ìˆìœ¼ë‹ˆê¹Œ?
    - ëª¨ë¥´ê² ë‹¤