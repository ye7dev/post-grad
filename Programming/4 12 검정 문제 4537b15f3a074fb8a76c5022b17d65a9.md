# 4/12 검정 문제

Theme: DP
Created time: May 1, 2024 10:32 AM
Last edited time: May 1, 2024 11:10 AM

- 문제
    - 재료마다 단백질, 탄수화물, 지방 수치가 제공될 때, 목표치(세 요소마다 다름)를 만들 수 있는 최소 재료의 조합을 리턴하라
- DP state
    - `dp[c][d][f]` : 탄, 단, 지 수치 각각 c, d, f를 만족시키는 데 필요한 최소 재료 수
    - `ingredient_used[c][d][f]` : 탄, 단,지 수치 각각 c, d, f를 만족시키는 데 사용된 마지막 재료의 index
- DP table 초기화
    - dp table
        - cell값: float(’inf’)
        - 차원: (target c + 1) * (target d + 1) * (target f + 1)
    - ingredient_used table
        - cell값: -1
        - 차원:  (target c + 1) * (target d + 1) * (target f + 1)
- dp base case
    - 세 수치 모두 0 → dp[0][0][0] = 0 (아무 재료 없이 만족시킬 수 있음)
- dp iterative case
    
    ```python
    for idx, (c, d, f) in enumerate(ingredients):
    	for cc in range(target c, c-1, -1):
    		for dd in range(target d, d-1, -1):
    			for ff in range(target f, f-1, -1):
    				if dp[cc][dd][ff] > dp[cc-c][dd-d][ff-f] + 1:
    					dp[cc][dd][ff] = dp[cc-c][dd-d][ff-f] + 1 
    					ingredient_used[cc][dd][ff] = idx 
    ```
    
    - cc, dd, ff 감소시켜서 문제를 어떻게 푸냐 잘 생각이 안나면…
        - cc, dd, ff = 4, 3, 2라고 하고, 재료 1의 영양소가 1, 1, 1이라고 하면
            - dp[3][2][1]: inf + 1 = inf → 조건 불만족
            - dp[1][1][1] = 1
        - 재료 2의 영양소가 1, 1, 1이라고 하면
            - dp[2][2][2] = 2
        - 재료 3의 영양소가 2, 1, 0이라고 하면
            - dp[4][3][2] > dp[2][2][2] + 1 = 3 → update
- 최소 재료 수와 그 조합 찾기
    - 지금 이 수치를 만족시키기 위해 사용한 마지막 재료를 찾고
    - 그 재료를 사용했을 때 만족시켜야 하는 남은 수치를 업데이트 하고
    - 업데이트된 수치를 만족시키기 위해 사용한 마지막 재료를 찾고…
    - 최종적으로 남은 수치가 0이 될 때까지 거꾸로 타고 올라간다
    
    ```python
    result = dp[target c][target d][target f]
    combination = []
    if result != float('inf'):
    	c, d, f = target c, target d, target f 
    	while c > 0 or d > 0 or f > 0:
    		idx = ingredient_used[c][d][f] 
    		combination.append(idx + 1) # 재료 넘버는 index + 1이니까 
    		used_c, used_d, used_f = ingredients[i]
    		c -= used_c
    		d -= used_d
    		f -= used_f 
    ```