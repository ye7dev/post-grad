# 321. Create Maximum Number

Status: in progress, ğŸ‘€1
Theme: DP
Created time: November 15, 2023 4:29 PM
Last edited time: November 16, 2023 3:26 PM

- sumì´ í°ìª½ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê±°ë‘ ë¹„ìŠ·í•˜ì§€ ì•Šì„ê¹Œ?
    - ì˜¤ë¦„ì°¨ìˆœì€ ì•„ë‹ˆë‹¤ ê·¸ëƒ¥ ì›ë˜ ìˆœì„œë¥¼ ê±°ì—­í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì œì¼ í° kê°œë¥¼ ëª¨ìœ¼ëŠ” ê²ƒ
- ë‹¤ë“¤ ì–´ë µë‹¤ê³  í˜€ë¥¼ ë‚´ë‘ë¥´ëŠ” ë¬¸ì œâ€¦ê·¼ë° í•´ì„¤ë´ë„ ì˜ ëª¨ë¥´ê² ë‹¤ ìš°ì„  í•´ì„¤ì„ ì˜®ê²¨ë³´ì
    - ì§„ì§œ í•µì–´ë µë‹¤
- ë¬´ì§€ì„± [í•´ì„¤](https://web.archive.org/web/20160120093629/http://algobox.org/create-maximum-number/) ë²ˆì—­
    - ë‘ ê°€ì§€ì˜ sub ë¬¸ì œë¡œ í•´ê²°í•  ìˆ˜ ìˆìŒ
        1. í•œ arrayì˜ maximum number(?)ë¥¼ ìƒì„± 
        2. ëª¨ë“  ìˆ«ì(?)ë¥¼ ì‚¬ìš©í•´ì„œ ë‘ arrayì˜ maximum number(?)ë¥¼ ìƒì„± 
    - (algo1) ê¸¸ì´ nì˜ arrayê°€ ì£¼ì–´ì§ˆ ë•Œ, length kì˜ maximum numberë¥¼ ìƒì„±
        - Greedy + stack
        - ë¹ˆ stackì„ ì´ˆê¸°í™”
        - ì£¼ì–´ì§„ array numsë¥¼ ëŒë©´ì„œ
            - stackì˜ ë§¨ ë§ˆì§€ë§‰ ìš”ì†Œ(top)ê°€ nums[i]ë³´ë‹¤ ì‘ìœ¼ë©´ ê³„ì† popí•´ ë‚˜ê°€ë‹¤ê°€
                - stackì— ë” ì´ìƒ ìˆ«ìê°€ ë‚¨ì•„ ìˆì§€ ì•Šê±°ë‚˜
                - stackì— ë‚¨ì€ ìˆ«ìì˜ ê°œìˆ˜ê°€ kë³´ë‹¤ ì‘ìœ¼ë©´ stop
                
                â†’ ì½”ë”©ìœ¼ë¡œ êµ¬í˜„í•  ë•ŒëŠ” ê²€ì€ ë„¤ëª¨ ë‘ ê°œê°€ while loop ì¡°ê±´ìœ¼ë¡œ ë¨¼ì € ì˜¤ê³ , ìƒìœ„ í°ìƒ‰ ë™ê·¸ë¼ë¯¸ê°€ while loop í•˜ìœ„ë¡œ êµ¬í˜„ë¨. ë°”ê¿”ì„œ êµ¬í˜„í•  ìˆ˜ë„ ìˆìŒ 
                
                ```python
                while stack and len(stack) >= k: # ë‘ ê°€ì§€ ì¡°ê±´ í•œêº¼ë²ˆì— ë„£ì–´ë„ ë˜ì§€ ì•Šë‚˜? 
                	if nums[i] > stack[-1]:
                			stack.pop() 
                
                # ì•„ë‹ˆë©´
                while nums[i] > stack[-1]:
                	stack.pop()
                	if len(stack) < k: break 
                ```
                
            - stack sizeê°€ kë³´ë‹¤ ì‘ìœ¼ë©´ push nums[i]
        - ë§ˆì§€ë§‰ì— return stack
        - java code pythonìœ¼ë¡œ ë²ˆì—­
            
            ```python
            def maxArray(nums, k)
            	n = len(nums)
            	stack = []
            	for i in range(n):
            		while stack and (n-i+len(stack)) > k and stack[-1] < nums[i]:
            			stack.pop() 
            		if len(stack) < k: 
            			stack.append(nums[i])
            	return stack 
            ```
            
        - ì˜ˆì‹œ
            
            nums = [9, 1, 2, 5, 8, 3], k = 3 (n=6)
            
            | i | len(stack) | nums[i] | n-i+len(stack) | stack[-1] | push | pop | stack |
            | --- | --- | --- | --- | --- | --- | --- | --- |
            | 0 | 0 | 9 | 6-0+0=6 |  | yes |  | [9] |
            | 1 | 1 | 1 | 6-1+1=6 | 9 | yes |  | [9, 1] |
            | 2 | 2 | 2 | 6-2+2=6 | 1 |  | yes | [9] |
            |  | 1 |  |  |  | yes |  | [9, 2] |
            | 3 | 2 | 5 | 6-3+2=5 | 2 |  | yes | [9] |
            |  | 1 |  |  |  | yes |  | [9, 5] |
            | 4 | 2 | 8 | 6-4+2=4 | 5 |  | yes | [9] |
            |  | 1 |  |  |  | yes |  | [9, 8] |
            | 5 | 2 | 3 | 6-5+2=3 |  |  |  |  |
            |  | 2 |  |  |  | yes |  | [9, 8, 3] |
            |  |  |  |  |  |  |  |  |
            
        - n-i+len(stack) > kì˜ ì˜ë¯¸
            - len(stack): ì´ë¯¸ ì±„ìš´ ìˆ«ì
            - n-i
                - ì˜ˆ) n=6, i =5 â†’ n-i = 1 : ì´ë²ˆ index ìˆ«ì í•˜ë‚˜ ë‚¨ì€ ê±°
                - ì˜ˆ) n=6, i =4 â†’ n-i = 2 : ì´ë²ˆ indexì— í•´ë‹¹í•˜ëŠ” ìˆ«ì í•˜ë‚˜ë‘(nums[4]) + ì•„ì§ forë¬¸ ì•ˆ ëŒì€ ìˆ«ì (nums[5]) ì´ 2ê°œ
            - n-i+len(stack)
                - ì•„ì§ stack topì´ë‘ ë¹„êµ ì•ˆí•œ íƒìƒ‰ ì „ ìˆ«ì ê°œìˆ˜ + ì´ë¯¸ stackì— í¬í•¨ëœ ìˆ«ì ê°œìˆ˜ > ì±„ì›Œì•¼ í•˜ëŠ” ìˆ«ì ê°œìˆ˜
        - ì •ë¦¬í•˜ë©´ stack pop í•˜ëŠ” ê²½ìš°ëŠ” ì„¸ ê°€ì§€ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•´ì•¼ í•¨
            1. stackì— ì›ì†Œê°€ ìˆëŠ” ê²½ìš°
            2. íƒìƒ‰ ì „ ìˆ«ì ê°œìˆ˜ + ì´ë¯¸ stackì— ë“¤ì–´ ìˆëŠ” ìˆ«ì ê°œìˆ˜ê°€ ì±„ì›Œì•¼ í•˜ëŠ” ìˆ«ì ë³´ë‹¤ í° ê²½ìš° 
            3. stack topì´ ì´ë²ˆì— íƒìƒ‰í•˜ëŠ” ìˆ«ìë³´ë‹¤ ì‘ì„ ê²½ìš° 
    - (algo2) ê°ê° ê¸¸ì´ê°€ m, nì¸ array ë‘ ê°œê°€ ì£¼ì–´ì§ˆ ë•Œ, k= m+nê°œì¸ ê¸¸ì´ì˜ maximum numberë¥¼ ìƒì„±
        - 321ë²ˆì€ k â‰¤ m+nì¸ë° ë¹„í•´, ì´ ìƒí™©ì—ì„œëŠ” ì£¼ì–´ì§„ ëª¨ë“  ìˆ«ìë¥¼ ì‚¬ìš©
        - í•´ì•¼ í•˜ëŠ” íŒë‹¨ì€ ì´ kë²ˆ - ê° ìƒí™©ì—ì„œ maximum number array(stack or whatever)ì— ì´ë²ˆì— ë“¤ì–´ê°ˆ ìš”ì†Œê°€ ë‘ array ì¤‘ ì–´ë””ì„œ ì˜¤ëŠ” ê±´ì§€ íŒë‹¨í•˜ë©´ ë¨ â†’ ë‹¹ì—°íˆ ë‘ ì›ì†Œ ì¤‘ ë” í° ê±¸ ì§‘ì–´ë„£ìœ¼ë©´ ë˜ëŠ”ë°(ìš”ê³ ëŠ” merge sortë‘ ë¹„ìŠ·í•˜ê¸°ë„), ë¬¸ì œëŠ” ê°™ì€ ê²½ìš°ëŠ” ì–´ë–»ê²Œ?
        - ë‘ ì›ì†Œê°€ ê°™ì€ ê²½ìš°, ê°ì ì†í•œ arrayì—ì„œ ê·¸ ë‹¤ìŒìœ¼ë¡œ ì˜¤ëŠ” ìˆ«ìì˜ ê°’ì„ ë¹„êµ
            - ì˜ˆë¥¼ ë“¤ì–´ matt = [6, 7, â€¦], johnny = [6, 0, â€¦] ì¼ ë•Œ, ì´ë²ˆì— ë„£ì„ 6ì€ mattì—ê²Œì„œ ê°€ì ¸ì™€ì•¼. mattì—ì„œ 6 ë‹¤ìŒì—ëŠ” 7ì´ ì˜¤ì§€ë§Œ, johnnyì—ì„œëŠ” ë‹¤ìŒì— 0ì´ ì˜´
            - ë§Œì•½ ë’¤ì˜ ì›ì†Œë„ ê°™ì€ ê²½ìš°ëŠ” ë‹¤ìŒìœ¼ë¡œ ë‹¤ë¥¸ ìˆ«ìê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê°ìì˜ ë’¤ë¥¼ ê³„ì† ì´ì–´ì„œ ë´„
                - [6, 5, 4, 3, 7] vs. [6, 5, 4, 3, 9] ì¤‘ ì–´ë””ì—ì„œ 6ì„ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ì§€ ë³´ë ¤ë©´ 5, 4, 3 ê°™ì€ ìˆ«ìëŠ” ê³„ì† ì œë¼ê³ , 7 â‰  9 ê¹Œì§€ ë„ë‹¬. ê·¸ë¦¬ê³  9ê°€ ë” í¬ê¸° ë•Œë¬¸ì— ë‘ë²ˆì§¸ arrayì—ì„œ 6ì„ ê°€ì ¸ì˜¤ê¸°ë¡œ í•œë‹¤
        - java code translation
            
            ```python
            def merge(nums1, nums2, k):
            	res = []
            	i, j = 0, 0
            	for _ in range(k): # or while len(res) < k
            		if get_front(nums1, i, nums2, j):
            			res.append(nums1[i])
            			i += 1 
            		else:
            			res.append(nums2[j])
            			j += 1 
            	return res  
            
            def get_front(nums1, i, nums2, j):
            	while i < len(nums1) and j < len(nums2) and nums[i] == nums2[j]:
            		i += 1 
            		j += 1
            	if j == len(nums2): # nums1ë„ ëë‚¬ë”ë¼ë„ ë‘˜ë‹¤ ëë‚¬ì„ ë•ŒëŠ” nums1ì—ì„œ ê°€ì ¸ê° 
            		return True 
            	if i < len(nums1) and nums1[i] > nums2[j]:
            		return True
            	# nums1ë§Œ ë¨¼ì € ëë‚¬ê±°ë‚˜ ë‘˜ ë‹¤ ì•ˆ ëë‚¬ëŠ”ë° nums2 ìˆ«ìê°€ ë” í¬ê±°ë‚˜ 
            	return False 
            ```
            
    - ë‘ solutionì„ í•©í•´ì„œ ì´ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©´
        - guide
            1. ì±„ì›Œì•¼ í•˜ëŠ” ìˆ«ì kê°œë¥¼ ë‘ ê°œì˜ subpartë¡œ ë‚˜ëˆˆë‹¤- i, k-i
                - ê° subpartë¥¼ algo1ì„ ì´ìš©í•´ì„œ ìƒì„±
                - part (i): í•œ arrayì—ì„œ ê¸¸ì´ ië§Œí¼ì˜ maximum numberë¥¼ ìƒì„±
                - part (k-i): ë‹¤ë¥¸ arrayì—ì„œ ê¸¸ì´ i-k ë§Œí¼ì˜ maximum number ìƒì„±
            2. algo2ë¥¼ ì´ìš©í•´ì„œ part (i)ì™€ part(k-i)ë¥¼ í•©ì¹œë‹¤
            3. ìš°ë¦¬ê°€ ê°–ê³  ìˆëŠ” ê²°ê³¼(?)ì™€ ë¹„êµí•´ì„œ ë” í° ê±¸ ìµœì¢… ë‹µìœ¼ë¡œ return(?) 
        - java code ë²ˆì—­
            
            ```python
            def maxNumber(nums1, nums2, k):
            	m, n = len(nums1), len(nums2)
            	res = [] 
            	for i in range(max(0, k-n), min(k, m)+1):
            		tmp1 = maxArray(nums1, i) 
            		tmp2 = maxArray(nums2, k-i)
            		cand = merge(tmp1, tmp2, k) 
            		# ì²˜ìŒìœ¼ë¡œ ë‘ arrayì˜ ì›ì†Œ ê°’ì´ ì„œë¡œ ë‹¤ë¥¸ ì§€ì ì—ì„œ candì˜ ê°’ì´ ë” í¬ë©´ 
            		if get_front(cand, 0, res, 0): 
            			res = cand 
            	return res 
            ```
            
            - `max(0, k-n), min(k, m)+1` ì´ê±´ ë˜ ë­ëŒ?
                - nums1ì—ì„œëŠ” iê°œì˜ ìˆ«ìë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ê³ 
                    - i â‰¤ len(nums1) â†’ 0â‰¤ i â‰¤ m
                - num2ì—ì„œëŠ” k-iê°œì˜ ìˆ«ìë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤
                    - k-i â‰¤ len(nums2) â†’  k â‰¤ i+n â†’ k - n â‰¤ i
                - ë‘ ì¡°ê±´ì„ ëª¨ë‘ ê²°í•©í•˜ë©´ k-n â‰¤ i â‰¤ m
            - í•œ ë²ˆ í•´ë´ì•¼ í•œë‹¤
                
                `nums1 = [3,4,6,5], nums2 = [9,1,2,5,8,3], k = 5`
                
                m = 4, n = 6
                
                max(0, k-n) â†’ max(0, -1) = 0
                
                min(k, m) + 1 â†’ min(5, 4) + 1 =5
                
                - nums1: `[3,4,6,5]`
                
                | k | i | n-i+len(stack) | stack |
                | --- | --- | --- | --- |
                | 0 |  |  | [] |
                | 1 |  |  | [6] |
                | 2 |  |  | [6, 5] |
                | 3 |  |  | [4, 6, 5] |
                | 4 |  | 4-4 = 0 | [3, 4, 6, 5] |
                - nums2: `[9,1,2,5,8,3]`
                
                | k-i | i | n-i+len(stack) | stack |
                | --- | --- | --- | --- |
                | 5 | 3 | 6-3+2=5 | [9, 2, 5, 8, 3] |
                | 4 | 4 | 6-4+2=4 | [9, 5, 8, 3] |
                | 3 | 5 | 6-5+2=3 | [9, 8, 3] |
                | 2 | 5 | 6-5+2=3 | [9, 8] |
                | 1 | 1 | 6-1+1=6 | [9] |
                - merge
                
                | i | tmp1 | tmp2 | cand | get_cand | res |
                | --- | --- | --- | --- | --- | --- |
                | 0 | [] | [9, 2, 5, 8, 3] | [9, 2, 5, 8, 3] | True | [9, 2, 5, 8, 3] |
                | 1 | [6] | [9, 5, 8, 3] | [9, 6, 5, 8, 3] | True | [9, 6, 5, 8, 3] |
                | 2 | [6, 5] | [9, 8, 3] | [9, 8, 6, 5, 3] | True | [9, 8, 6, 5, 3] |
                | 3 | [4, 6, 5] | [9, 8] | [9, 8, 4, 6, 5] | False | [9, 8, 6, 5, 3] |
                | 4 | [3, 4, 6, 5] | [9] | [9, 3, 4, 6, 5] | False | [9, 8, 6, 5, 3] |
- [x]  í•´ì„¤ ë” ê°„ê²°í•˜ê²Œ ìš”ì•½
    - ëª¨ë“  ê°€ëŠ¥í•œ iì— ëŒ€í•´ ì•„ë˜ì˜ ë™ì‘ ë°˜ë³µ
        1.  ë‘ array ê°ê°ì—ì„œ i, k-i ê°œì˜ maximum numberë¥¼ ë§Œë“¦ 
            - iì˜ ë²”ìœ„ ì„¤ì • ìœ ì˜
            - array1ì˜ ê¸¸ì´ê°€ m, array2ì˜ ê¸¸ì´ê°€ nì´ë¼ê³  í•  ë•Œ
            - iëŠ” mì„ ë„˜ì„ ìˆ˜ ì—†ê³ , k-iëŠ” nì„ ë„˜ì„ ìˆ˜ ì—†ìŒ
                - i < m, k-i <n â†’ k-n < i < m
                - ê·¸ëŸ¬ëŠ” í•œí¸, 0â‰¤ i <k
                - ë‘ ë²”ìœ„ë¥¼ í•©ì¹˜ë©´ max(0, k-n) â‰¤ i < min(k, m)
                - rangeë¡œ í‘œê¸°í•˜ë©´ i in range(max(0, k-n), min(k,m)+1)
        2. ê°ê°ì˜ maximum numberë¥¼ ì•ì—ì„œë¶€í„° ë¹„êµí•´ì„œ ë” í° ìˆ«ìê°€ ë‚˜ì˜¤ëŠ” ëŒ€ë¡œ cand listì— ë¶™ì—¬ê°„ë‹¤
        3. ì´ì „ iterationì—ì„œ ë§Œë“  resì™€ cand ì¤‘ ë” í° ì›ì†Œê°€ ì–´ë””ì„œ ë” ë¹¨ë¦¬ ë‚˜ì˜¤ëŠ”ì§€ì— ë”°ë¼ resë¥¼ ì—…ë°ì´íŠ¸ í•˜ê±°ë‚˜ ë§ê±°ë‚˜ í•œë‹¤ 
- [ ]  ì½”ë“œ ë³µê¸°í•´ì„œ ë¬¸ì œ í’€ê¸°