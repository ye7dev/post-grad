# 1268. [S/W 문제해결 응용] 10일차 - 최종평가

Created time: May 9, 2024 4:00 PM
Last edited time: May 9, 2024 5:31 PM

- 문제 이해
    
    diff_x/diff_y 비율이 같으면 일직선상에 있다고 보는 게 맞을 듯?
    
    N: robot 개수 
    
- scratch
    
    (0,0) (-1, +2), (-2 +4)
    
    모르겠음 
    
- AC 코드
    - 뭘 의도한 문제인지 잘 모르겠음
    
    ```python
    def GCD(p, q):
        print(p, q)
        if p < q:
            return GCD(q, p)
        elif q == 0:
            return p
        return GCD(q, p % q)
    
    def get_direction(x):
        if x > 0:
            return 1
        elif x == 0:
            return 0
        else:
            return -1
    
    def robot_battle():
        res = []
        # part1
        num_shot = []
        for i in range(N):
            diff_set = set()
            x, y = robots[i]
            for j in range(N):
                if i == j:
                    continue
                diff_x, diff_y = x-robots[j][0], y-robots[j][1]
                x_dir, y_dir = get_direction(diff_x), get_direction(diff_y)
                diff_ratio = diff_y / diff_x if diff_x != 0 else 0
                cur_diff = (diff_ratio, x_dir, y_dir)
                if cur_diff in diff_set:
                    continue
                diff_set.add(cur_diff)
            num_shot.append(len(diff_set))
        res.append(sum(num_shot))
    
        # part2
        A = [0] + num_shot + ([0] * N)
        B = [0] * (2 * N + 1)
        C = [0] * (N + 1)
    
        for i in range(1, N+1):
            for j in range(1, N+1):
                A[j] = ((A[j] * K + j) % N) + 1
                A[N + j] = ((A[j] * j + K) % N) + 1
            A.sort()
            B[0] = 1
            for j in range(1, 2*N+1):
                B[j] = ((B[j - 1] * A[j] + j) % N) + 1
            C[i] = B[2 * N]
    
        res.append(sum(C))
    
        return res
    
    T = int(input())
    for t in range(1, T+1):
        R, N, K = map(int, input().split())
        robots = []
        for _ in range(N):
            r, c = map(int, input().split())
            robots.append((r,c))
    
        ans = robot_battle()
        ans = [str(a) for a in ans]
        print(f'#{t} {" ".join(ans)}')
    ```