# 3459. 승자 예측하기

Created time: April 8, 2024 5:35 PM
Last edited time: April 9, 2024 3:25 PM

- Trial
    - DFS 1 - 4/5 시간 초과
        
        ```python
        def bob_win(x, is_bob):
            # base case
            if 2 * x > N:
                return True if not is_bob else False
            # recursive case
            if 2 * x < N:
                return bob_win(2 * x, not is_bob) and bob_win(2*x+1, not is_bob)
            elif 2 * x == N:
                return bob_win(2 * x, not is_bob)
        
        T = int(input())
        for t in range(1, T+1):
            N = int(input())
            if bob_win(1, False):
                print(f'#{t} Bob')
            else:
                print(f'#{t} Alice')
        ```
        
    - DFS 2 - 예제 통과
        
        ```python
        def bob_win(x, is_bob):
            # base case
            if 2 * x > N:
                return not is_bob
            if 2 * x + 1 > N: # I(is_bob) always choose 2 * x (<= N)
                return is_bob
            
            # recursive case
            if bob_win(2 * x, is_bob) or bob_win(2 * x + 1, is_bob):
                return is_bob
            return not is_bob
        
        T = int(input())
        for t in range(1, T+1):
            N = int(input())
            ans = bob_win(1, False)
            winner = 'Bob' if ans else 'Alice'
            print(f'#{t} {winner}')
        ```
        
    - Binary search - 오답 : 100000개의 테스트케이스 중 99974개가 맞았습니다.)
        
        ```python
        import math
        def play_game(n):
            final_level = math.floor(math.log(n, 2))
            cur_level = 1
            left, right = 2 ** final_level, 2 ** (final_level + 1)
            while cur_level <= final_level:
                is_last_player = cur_level & 1 == final_level & 1
                is_alice = True if cur_level & 1 else False
                mid = (left + right) // 2
                #print(cur_level, mid)
                if is_last_player:
                    if n >= mid: # choose the first half
                        return True if is_alice else False
                    else:
                        right = mid-1
                else:
                    if n >= mid:
                        left = mid
                    else:
                        return True if is_alice else False
                cur_level += 1
        
        T = int(input())
        for t in range(1, T+1):
            N = int(input())
            ans = play_game(N)
            winner = 'Alice' if ans else 'Bob'
            print(f'#{t} {winner}')
        
        #print(play_game(10))
        ```
        
- AC 코드
    - Binary search