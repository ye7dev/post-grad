# 1259. [S/W 문제해결 응용] 7일차 - 금속막대

Created time: May 6, 2024 9:25 PM
Last edited time: May 6, 2024 9:55 PM

- first impression
    - 2 3 3 4나 4 3 3 2나 같음
    - 모르겠음
- hint
    
    즉, 모든 금속막대의 암/수나사의 길이가 다 달라서 어떻게 탐색하던 하나의 경우의 수만 나와서 어렵지 않게 풀 수 있었다. → DFS로 풀면 풀린다고 한다 
    
- AC 코드
    
    ```python
    def recur(idx, visited):
        # job
        visited.append(idx)
        # base case
        if len(visited) == N:
            return visited
        x, y = rods[idx]
        # recursive case
        for i in range(N):
            if i in visited:
                continue
            a, b = rods[i]
            if y == a:
                temp = recur(i, visited)
                if len(temp) == N:
                    return temp
    
        visited.pop()
        return []
    
    T = int(input())
    for t in range(1, T+1):
        N = int(input())
        rods = []
        data = list(map(int, input().split()))
        for i in range(0, 2*N, 2):
            rods.append([data[i], data[i+1]])
    
        for i in range(N):
            indices = recur(i, [])
            if len(indices) == N:
                break
        ans = []
        for i in indices:
            ans += ([str(r) for r in rods[i]])
        print(f'#{t} {" ".join(ans)}')
    ```