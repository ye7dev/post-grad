# 1장 배경

- SQL 문 클래스
    - 스키마문: DB에 저장된 데이터 구조를 정의할 때 사용
    - 데이터문: 스키마문으로 정의한 데이터 구조를 조작할 때 사용
    - 트랜잭션문: 트랜잭션의 시작과 종료 및 롤백에서 사용
    
    ```sql
    # 스키마문 - 테이블 생성
    CREATE TABLE corporation 
    (corp_id SMALLINT, 
    name VARCHAR(30), 
    CONSTRAINT pk_corporation PRIMARY KEY (corp_id));
    
    # 데이터문 - row 하나 삽입 
    INSERT INTO corporation (corp_id, name)
    VALUE (27, 'Acme Paper Corporation');
    ```
    
- 예제
    - 조지 블레이크의 자유입출금 계좌에 대한 모든 거래 조회
        
        ```sql
        SELECT t.txn_id, t.txn_type_cd, t.txn_date, t.amount
        FROM individual i 
        	INNER JOIN account a ON i.cust_id = a.cust_id
        	INNER JOIN product p ON p.product_cd = a.product_cd
        	INNER JOIN transaction t ON t.account_id = a.account_id
        WHERE i.fname = 'George' AND i.lname = 'Blake' AND p.name = 'checking account'; 
        
        ```
        
    - 조지 블레이크의 고객 ID를 바탕으로 거래 찾기
        
        ```sql
        SELECT t.txn_id, t.txn_type_cd, t.txn_date, t.amount
        FROM account a 
        	INNER JOIN transaction t ON t.account_id = a.account_id
        WHERE a.cust_id = 8 AND a.product_cd = 'CHK;
        ```
        
    - 주석 처리는 /* 로 시작해서 이 사이에 들어오는 모든 글자는 주석임 */
    - 일반적인 쿼리 구성 순서
        1. 필요한 테이블 선정
        2. from 절 추가 
        3. where 절 조건 추가해서 관심 없는 데이터 필터링
        4. 테이블에서 검색할 열 결정하고 select 절에 추가 
    - 오타 수정하기
        
        ```sql
        UPDATE product
        SET name = 'Certificate of Deposit'
        WHERE product_cd = 'CD';
        ```